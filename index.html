<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<style>
body{
  background:#d9d9d9;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  font-family:Arial, sans-serif;
}

.widget{
  background:black;
  border:8px solid #f8ee21;
  border-radius:40px;
  padding:60px 80px;
  color:#f8ee21;
  font-size:60px;
  font-weight:bold;
  text-align:center;
}
</style>
</head>

<body>

<div class="widget" id="fyop"></div>

<script>

/* FULL OP TABLE (trimmed example â€” keep your full table here) */
const opTable = [
 {fy:26,op:9,start:"2026-01-12"},
 {fy:26,op:10,start:"2026-02-09"},
 {fy:26,op:11,start:"2026-03-09"}
];

/* ---------- EST TIME ---------- */
function estNow(){
 return new Date(
   new Date().toLocaleString("en-US",{timeZone:"America/New_York"})
 );
}

/* ---------- BUSINESS DATE (2PM rollover) ---------- */
function businessDate(){

 let d = estNow();

 if(d.getHours()<14){
   d.setDate(d.getDate()-1);
 }

 return d;
}

/* ---------- FIND CURRENT OP ---------- */
function currentOP(date){

 for(let i=opTable.length-1;i>=0;i--){
   if(date>=new Date(opTable[i].start)){
     return opTable[i];
   }
 }
 return opTable[0];
}

/* ---------- CALCULATE WEEK + DAY ---------- */
function weekDay(opStart){

 let nowEST = estNow();
 let bd = businessDate();

 let days = Math.floor((bd - new Date(opStart)) / 86400000);

 let week = Math.floor(days/7)+1;

 let dayOfWeek = (nowEST.getDay()+6)%7;

 /* Monday before 2PM = Day 0 */
 if(nowEST.getDay()==1 && nowEST.getHours()<14){
   dayOfWeek = 0;
 } else{
   dayOfWeek = dayOfWeek+1;
 }

 return {week,dayOfWeek};
}

/* ---------- UPDATE DISPLAY ---------- */
function update(){

 let bd = businessDate();

 let op = currentOP(bd);

 let wd = weekDay(op.start);

 document.getElementById("fyop").innerHTML =
   "FY"+op.fy+
   " OP"+op.op+
   " Week "+wd.week+
   " Day "+wd.dayOfWeek;
}

update();
setInterval(update,60000);

</script>

</body>
</html>
