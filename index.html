<script>
(function () {

const opData = [
  {FY:25,OP:1,Start:"2024-06-03",End:"2024-06-30"},
  {FY:25,OP:2,Start:"2024-07-01",End:"2024-07-28"},
  {FY:25,OP:3,Start:"2024-07-29",End:"2024-08-25"},
  {FY:25,OP:4,Start:"2024-08-26",End:"2024-09-22"},
  {FY:25,OP:5,Start:"2024-09-23",End:"2024-10-20"},
  {FY:25,OP:6,Start:"2024-10-21",End:"2024-11-17"},
  {FY:25,OP:7,Start:"2024-11-18",End:"2024-12-15"},
  {FY:25,OP:8,Start:"2024-12-16",End:"2025-01-12"},
  {FY:25,OP:9,Start:"2025-01-13",End:"2025-02-09"},
  {FY:25,OP:10,Start:"2025-02-10",End:"2025-03-09"},
  {FY:25,OP:11,Start:"2025-03-10",End:"2025-04-06"},
  {FY:25,OP:12,Start:"2025-04-07",End:"2025-05-04"},
  {FY:25,OP:13,Start:"2025-05-05",End:"2025-06-01"},

  {FY:26,OP:1,Start:"2025-06-02",End:"2025-06-29"},
  {FY:26,OP:2,Start:"2025-06-30",End:"2025-07-27"},
  {FY:26,OP:3,Start:"2025-07-28",End:"2025-08-24"},
  {FY:26,OP:4,Start:"2025-08-25",End:"2025-09-21"},
  {FY:26,OP:5,Start:"2025-09-22",End:"2025-10-19"},
  {FY:26,OP:6,Start:"2025-10-20",End:"2025-11-16"},
  {FY:26,OP:7,Start:"2025-11-17",End:"2025-12-14"},
  {FY:26,OP:8,Start:"2025-12-15",End:"2026-01-11"},
  {FY:26,OP:9,Start:"2026-01-12",End:"2026-02-08"},
  {FY:26,OP:10,Start:"2026-02-09",End:"2026-03-08"},
  {FY:26,OP:11,Start:"2026-03-09",End:"2026-04-05"},
  {FY:26,OP:12,Start:"2026-04-06",End:"2026-05-03"},
  {FY:26,OP:13,Start:"2026-05-04",End:"2026-05-31"}
];

// Get today's date at midnight Eastern
function getEasternMidnight() {
    const now = new Date();
    const et = new Date(
        now.toLocaleString("en-US", { timeZone: "America/New_York" })
    );
    et.setHours(0, 0, 0, 0);
    return et;
}

function render() {
    const today = getEasternMidnight();
    let current = null;

    for (const op of opData) {
        const start = new Date(op.Start + "T00:00:00");
        const end = new Date(op.End + "T23:59:59");

        if (today >= start && today <= end) {
            current = op;
            break;
        }
    }

    if (!current) {
        document.getElementById("tile").textContent = "Date not found";
        return;
    }

    const opStart = new Date(current.Start + "T00:00:00");
    const day = Math.floor((today - opStart) / 86400000) + 1;
    const week = Math.ceil(day / 7);

    document.getElementById("tile").textContent =
        `FY${current.FY} OP${current.OP} Week ${week} Day ${day}`;
}

render();
})();
</script>

</body>
</html>

